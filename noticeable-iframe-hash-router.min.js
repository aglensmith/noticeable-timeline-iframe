!function(){function i(){if(o("Starting iframe handling"),function(){var e=window.noticeableSettings.iframe.selector,i=window.noticeableSettings.iframe.timelineUrl;if(o("Noticeable iframe settings",window.noticeableSettings.iframe),!e)return console.error("Missing iframe selector definition."),!1;if(!i)return console.error("Missing timeline URL definition."),!1;return!0}()){if(window.addEventListener("message",function(e){try{var i=JSON.parse(e.data)}catch(e){}if(i)if("noticeable-timeline-location"===i.type){var n=function(e){var i=0;0===e.indexOf("/")&&(i=1);return-1<(i=e.indexOf("/",i))?e.substr(i+1):""}(i.path);location.hash=n||""}else if("noticeable-timeline-dimensions"===i.type){o("New iframe dimensions received",i),document.querySelector(window.noticeableSettings.iframe.selector).style.height=i.height+"px"}},!1),window.noticeableSettings.iframe.singlePageApp){var e=location.href;setInterval(function(){e&&location.href!==e&&(o("Location change detected",location.href),n(window.noticeableSettings.iframe.selector,window.noticeableSettings.iframe.timelineUrl),e=location.href)},window.noticeableSettings.iframe.pageChangeCheckInterval||240)}n(window.noticeableSettings.iframe.selector,window.noticeableSettings.iframe.timelineUrl)}}function n(e,i){var n=document.querySelector(e);if(n)if(location.hash){var t=function(e){var i=e.split("?"),n=i[0]+location.hash.replace("#","/");1<i.length&&(n+="?"+i[1]);return n}(i);o("Updating timeline URL",t),n.src=t}else o("Updating timeline URL",i),n.src=i;else o("Iframe not found on the current page with selector",e)}function o(e,i){window.noticeableSettings.iframe&&window.noticeableSettings.iframe.debug&&(i?console.log("[DEBUG] "+e,i):console.log("[DEBUG] "+e))}window.noticeableSettings.iframe.singlePageApp=void 0===window.noticeableSettings.iframe.singlePageApp||null===window.noticeableSettings.iframe.singlePageApp||window.noticeableSettings.iframe.singlePageApp,"complete"===document.readyState||"interactive"===document.readyState?i():document.addEventListener("DOMContentLoaded",function(e){i()})}();